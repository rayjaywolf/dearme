{% comment %}
  Info Section
{% endcomment %}

<section
  class="sacred-info-section"
  style="background: #fef9f2 url('{{ 'noise.png' | asset_url }}'); background-size: 150px 150px; background-repeat: repeat;"
>
  <div class="sacred-info-container">
    <div class="sacred-info-text-container">
      <h2 class="sacred-info-title">The <em>Secret</em> behind the Glow</h2>
      <div class="sacred-info-subtitle-wrapper">
        <p class="sacred-info-subtitle">This isn't just a glow serum — it's your skin's healing companion.</p>
        <p class="sacred-info-description">
          Sacred Secret is designed to brighten, fade pigmentation, soften fine lines, calm dark spots, and strengthen
          your barrier — all while staying gentle on the most sensitive skin.
        </p>
      </div>
    </div>
    <p class="ingredients-badge">Powered By 6 Ingredients</p>
    <div class="sacred-info-ingredients">
      <div class="sacred-info-ingredient">
        <img src="{{ 'saffron.png' | asset_url }}" alt="Kashmiri Saffron" loading="lazy" width="150" height="150">
        <span class="sacred-info-ingredient-name">Kashmiri Saffron</span>
        <p class="sacred-info-ingredient-desc">Brightens dull skin, reduces pigmentation, adds a natural radiance</p>
      </div>
      <div class="sacred-info-ingredient">
        <img src="{{ 'gold.png' | asset_url }}" alt="Gold Bhasma" loading="lazy" width="150" height="150">
        <span class="sacred-info-ingredient-name">24k Gold</span>
        <p class="sacred-info-ingredient-desc">Improves elasticity, softens fine lines, energizes tired skin</p>
      </div>
      <div class="sacred-info-ingredient">
        <img src="{{ 'lotus.png' | asset_url }}" alt="Lotus" loading="lazy" width="150" height="150">
        <span class="sacred-info-ingredient-name">Lotus Extract</span>
        <p class="sacred-info-ingredient-desc">Hydrates, balances oil, refines texture</p>
      </div>
      <div class="sacred-info-ingredient">
        <img
          src="{{ 'Centella-Asiatica.png' | asset_url }}"
          alt="Centella Asiatica"
          loading="lazy"
          width="150"
          height="150"
        >
        <span class="sacred-info-ingredient-name">Centella Asiatica</span>
        <p class="sacred-info-ingredient-desc">Repairs skin barrier, fades scars, soothes inflammation</p>
      </div>
      <div class="sacred-info-ingredient">
        <img src="{{ 'Kakadu-Plum.png' | asset_url }}" alt="Kakadu Plum" loading="lazy" width="150" height="150">
        <span class="sacred-info-ingredient-name">Kakadu Plum</span>
        <p class="sacred-info-ingredient-desc">
          Richest source of Vitamin C — targets dark spots, supports collagen production
        </p>
      </div>
      <div class="sacred-info-ingredient">
        <img src="{{ 'turmeric.png' | asset_url }}" alt="Turmeric" loading="lazy" width="150" height="150">
        <span class="sacred-info-ingredient-name">Turmeric</span>
        <p class="sacred-info-ingredient-desc">Anti-inflammatory, evens skin tone, calms flare-ups</p>
      </div>
    </div>

    <div class="sacred-info-why-it-works-container">
      <div class="sacred-info-why-it-works-left">
        <h3 class="sacred-info-section-title">Why It Works</h3>
        <div class="sacred-info-accordion">
          <div class="sacred-info-accordion-item">
            <button class="sacred-info-accordion-header">
              <span class="sacred-info-accordion-title">Brightening</span>
              <svg
                class="sacred-info-accordion-icon"
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path class="icon-minus" d="M3 8H13" stroke="#63001f" stroke-width="1.5" stroke-linecap="round" />
                <path class="icon-plus" d="M8 3V13" stroke="#63001f" stroke-width="1.5" stroke-linecap="round" />
              </svg>
            </button>
            <div class="sacred-info-accordion-panel">
              <p>Saffron & Kakadu Plum work in synergy to restore glow</p>
            </div>
          </div>
          <div class="sacred-info-accordion-item">
            <button class="sacred-info-accordion-header">
              <span class="sacred-info-accordion-title">Pigmentation & Dark Spots</span>
              <svg
                class="sacred-info-accordion-icon"
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path class="icon-minus" d="M3 8H13" stroke="#63001f" stroke-width="1.5" stroke-linecap="round" />
                <path class="icon-plus" d="M8 3V13" stroke="#63001f" stroke-width="1.5" stroke-linecap="round" />
              </svg>
            </button>
            <div class="sacred-info-accordion-panel">
              <p>Turmeric and NAG fade stubborn spots without irritation</p>
            </div>
          </div>
          <div class="sacred-info-accordion-item">
            <button class="sacred-info-accordion-header">
              <span class="sacred-info-accordion-title">Fine Lines & Wrinkles</span>
              <svg
                class="sacred-info-accordion-icon"
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path class="icon-minus" d="M3 8H13" stroke="#63001f" stroke-width="1.5" stroke-linecap="round" />
                <path class="icon-plus" d="M8 3V13" stroke="#63001f" stroke-width="1.5" stroke-linecap="round" />
              </svg>
            </button>
            <div class="sacred-info-accordion-panel">
              <p>Gold Bhasma + Ferulic Acid improve firmness and elasticity</p>
            </div>
          </div>
          <div class="sacred-info-accordion-item">
            <button class="sacred-info-accordion-header">
              <span class="sacred-info-accordion-title">Barrier Strength</span>
              <svg
                class="sacred-info-accordion-icon"
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path class="icon-minus" d="M3 8H13" stroke="#63001f" stroke-width="1.5" stroke-linecap="round" />
                <path class="icon-plus" d="M8 3V13" stroke="#63001f" stroke-width="1.5" stroke-linecap="round" />
              </svg>
            </button>
            <div class="sacred-info-accordion-panel">
              <p>Centella, Panthenol, and Rice Water repair, calm, and protect</p>
            </div>
          </div>
        </div>
      </div>
      <div class="sacred-info-why-it-works-right">
        <div class="sacred-info-why-it-works-image-wrapper">
          <img
            src="{{ 'A7409882.jpg' | asset_url }}"
            alt="Sacred Secret Lifestyle"
            class="sacred-info-why-it-works-image"
            loading="lazy"
            width="500"
            height="600"
          >
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .sacred-info-section {
    width: 100%;
    position: relative;
    padding: 4rem 0;
  }

  .sacred-info-container {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    width: 100%;
    /* max-width: 1200px; */
    margin: 0 auto;
    padding: 0 2rem;
  }

  .sacred-info-text-container {
    flex: 1;
    max-width: 800px;
    margin-bottom: 4rem;
  }

  .sacred-info-title {
    font-family: 'Instrument Serif', serif;
    text-transform: capitalize;
    font-weight: 200;
    font-size: 3rem;
    color: #63001f;
    line-height: 1.2;
    text-align: center;
    margin-bottom: 2rem;
  }

  .sacred-info-title em {
    font-family: 'Instrument Serif', serif;
    font-style: italic;
    text-transform: none;
    display: inline;
  }

  .sacred-info-subtitle-wrapper {
    max-width: 700px;
    margin: 0 auto;
    text-align: center;
  }

  .sacred-info-subtitle {
    font-family: 'Inter', sans-serif;
    font-size: 1.2rem;
    color: #63001f;
    line-height: 1.6;
    margin-bottom: 1.5rem;
    font-weight: 500;
  }

  .sacred-info-description {
    font-family: 'Inter', sans-serif;
    font-size: 1rem;
    color: rgba(99, 0, 31, 0.82);
    line-height: 1.8;
  }

  .ingredients-badge {
    /* text-transform: uppercase; */
    font-size: 0.75rem;
    font-weight: 500;
    color: #5d6b54;
    background: #e4ecd0;
    padding: 0.5rem 1rem;
    border-radius: 1000px;
    margin-bottom: 1.5rem;
  }

  .sacred-info-ingredients {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 2rem;
    flex-wrap: wrap;
    width: 95%;
    margin-top: 1rem;
  }

  .sacred-info-ingredient {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    transition: transform 0.3s ease;
    margin-bottom: 2rem;
  }

  .sacred-info-ingredient img {
    width: 120px;
    height: 120px;
    object-fit: contain;
  }

  .sacred-info-ingredient-name {
    font-family: 'Inter', serif;
    color: #63001f;
    font-size: 1rem;
    font-weight: 500;
    text-align: center;
    margin-top: 0.5rem;
    margin-bottom: 0.25rem;
  }

  .sacred-info-ingredient-desc {
    font-family: 'Inter', sans-serif;
    font-size: 0.8rem;
    font-weight: 400;
    color: rgba(99, 0, 31, 0.82);
    line-height: 1.5;
    text-align: center;
    max-width: 180px;
  }

  .sacred-info-why-it-works-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    align-items: center;
    width: 95%;
    margin: 2rem auto 0;
  }

  .sacred-info-why-it-works-image-wrapper {
    width: 100%;
    height: 85vh;
    border-radius: 1rem;
    overflow: hidden;
  }

  .sacred-info-why-it-works-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transform-origin: center center;
  }

  .sacred-info-section-title {
    font-family: 'Instrument Serif', serif;
    font-weight: 200;
    font-size: 2.5rem;
    color: #63001f;
    text-align: left;
    margin-bottom: 2.5rem;
  }

  .sacred-info-accordion-item {
    border-bottom: 1px solid rgba(99, 0, 31, 0.2);
  }

  .sacred-info-accordion-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    background: none;
    border: none;
    padding: 1.5rem 0.5rem;
    cursor: pointer;
    text-align: left;
  }

  .sacred-info-accordion-title {
    font-family: 'Inter', sans-serif;
    font-size: 1.1rem;
    font-weight: 500;
    color: #63001f;
  }

  .sacred-info-accordion-icon .icon-plus {
    transition: transform 0.3s ease;
  }

  .sacred-info-accordion-header.active .icon-plus {
    transform: scaleY(0);
  }

  .sacred-info-accordion-panel {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s cubic-bezier(0.83, 0, 0.17, 1);
  }

  .sacred-info-accordion-panel p {
    font-family: 'Inter', sans-serif;
    font-size: 0.9rem;
    color: rgba(99, 0, 31, 0.82);
    line-height: 1.7;
    padding: 0 0.5rem 1.5rem;
  }

  @media screen and (max-width: 768px) {
    .sacred-info-section {
      padding: 4rem 0;
    }

    .sacred-info-container {
      padding: 0 1.5rem;
    }

    .sacred-info-title {
      font-size: 2.5rem;
    }

    .sacred-info-subtitle {
      font-size: 1.1rem;
    }

    .sacred-info-description {
      font-size: 0.9rem;
    }

    .sacred-info-ingredients {
      gap: 1.5rem;
    }

    .sacred-info-ingredient {
      width: 100%;
      min-width: unset;
      margin-bottom: 2.5rem;
    }

    .sacred-info-ingredient img {
      width: 120px;
    }

    .sacred-info-ingredient-name {
      font-size: 1rem;
    }

    .sacred-info-ingredient-desc {
      font-size: 0.85rem;
      max-width: 250px;
    }

    .sacred-info-why-it-works-container {
      grid-template-columns: 1fr;
      gap: 2.5rem;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    if (typeof gsap === 'undefined') return;

    const section = document.querySelector('.sacred-info-section');

    // Set initial state for ingredients (hidden)
    gsap.set('.sacred-info-ingredient', {
      y: 50,
      opacity: 0,
    });

    // Set initial state for why-it-works image
    gsap.set('.sacred-info-why-it-works-image', {
      scale: 1.5,
    });

    // Set initial state for accordion items
    gsap.set('.sacred-info-accordion-item', {
      opacity: 0,
      y: 50,
    });

    // Observer for ingredient list animation
    const sectionObserver = new IntersectionObserver(
      function (entries) {
        if (entries[0].isIntersecting) {
          // Animate ingredients
          gsap.to('.sacred-info-ingredient', {
            y: 0,
            opacity: 1,
            duration: 1.2,
            stagger: 0.1,
            ease: 'power3.out',
          });
          sectionObserver.disconnect();
        }
      },
      { threshold: 0.3 }
    );
    sectionObserver.observe(section);

    // Observer for the "Why It Works" section (image and accordion only)
    const whyItWorksContainer = document.querySelector('.sacred-info-why-it-works-container');
    if (whyItWorksContainer) {
      const whyItWorksObserver = new IntersectionObserver(
        function (entries) {
          if (entries[0].isIntersecting) {
            const tl = gsap.timeline();

            // Animate image on the right
            tl.to('.sacred-info-why-it-works-image', {
              scale: 1,
              duration: 2,
              ease: 'power2.out',
            });

            // Animate accordion items on the left
            tl.to(
              '.sacred-info-accordion-item',
              {
                opacity: 1,
                y: 0,
                duration: 1,
                stagger: 0.15,
                ease: 'power3.out',
              },
              '-=1.2'
            );

            whyItWorksObserver.disconnect();
          }
        },
        { threshold: 0.1 }
      );
      whyItWorksObserver.observe(whyItWorksContainer);
    }

    // Accordion functionality
    const accordionHeaders = document.querySelectorAll('.sacred-info-accordion-header');
    accordionHeaders.forEach((header) => {
      header.addEventListener('click', () => {
        const panel = header.nextElementSibling;
        header.classList.toggle('active');

        if (panel.style.maxHeight) {
          panel.style.maxHeight = null;
        } else {
          panel.style.maxHeight = panel.scrollHeight + 'px';
        }
      });
    });
  });
</script>

{% schema %}
{
  "name": "Info Section",
  "presets": [
    {
      "name": "Info Section"
    }
  ]
}
{% endschema %}
